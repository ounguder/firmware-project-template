; platformio.ini — PlatformIO project configuration
; Fill [env:target] with your MCU and board. [env:native] runs unit tests on the host.
; Run: pio run                    (build firmware)
; Run: pio run --target upload    (flash firmware)
; Run: pio test -e native         (run unit tests on host)

; ── Target environment (MCU on hardware) ─────────────────────────────────────

[env:target]
; platform    = espressif32          ; ESP32 family
; platform    = ststm32              ; STM32 family
; platform    = raspberrypi          ; RP2040 / Raspberry Pi Pico
platform      =

; board       = featheresp32s3       ; e.g. Adafruit Feather ESP32-S3
; board       = nucleo_l476rg        ; e.g. STM32 Nucleo-L476RG
; board       = pico                 ; e.g. Raspberry Pi Pico
board         =

; framework   = arduino              ; Arduino framework
; framework   = espidf               ; ESP-IDF
; framework   = stm32cube            ; STM32Cube HAL
framework     =

; upload_protocol = esptool          ; ESP32 family
; upload_protocol = stlink           ; STM32 with ST-LINK
; upload_protocol = cmsis-dap        ; CMSIS-DAP (Black Magic Probe, etc.)
upload_protocol =

; monitor_speed = 115200
monitor_speed =

build_flags =
    ; -DDEBUG_LEVEL=2
    ; -DWDG_ENABLE
    ; -DNDEBUG               ; disable assert() in production builds

lib_deps =
    ; Add library dependencies here, e.g.:
    ; knolleary/PubSubClient @ ^2.8
    ; bblanchon/ArduinoJson @ ^6.21

; ── Native environment (unit tests on host) ───────────────────────────────────

[env:native]
platform = native

; Unity is the default test framework for PlatformIO native
; Tests live in tests/ — run with: pio test -e native
test_framework = unity

build_flags =
    ; -DUNIT_TEST
    ; -DNATIVE_BUILD
